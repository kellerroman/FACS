
HOMEDIR=../../
include $(HOMEDIR)Makefile.global
CODE_OBJ=$(HOMEDIR)$(OBJECT_DIR)/

INCLUDE += -I$(CODE_OBJ)


EXECUTABLE_DIR = ../bin
SOURCE_DIR = ../src


_EXE= sol2para sol2csv

EXE = $(patsubst %,$(EXECUTABLE_DIR)/%,$(_EXE))

all: $(EXE) 


$(EXECUTABLE_DIR)/%:$(SOURCE_DIR)/%.F90
	$(FC) $(FFLAGS) $^ $(LIBS) -o $@ $(INCLUDE)

$(EXECUTABLE_DIR)/sol2para: $(SOURCE_DIR)/sol2para.F90 $(CODE_OBJ)/file_io.o $(CODE_OBJ)/types.o
$(EXECUTABLE_DIR)/sol2csv: $(SOURCE_DIR)/sol2csv.F90 $(CODE_OBJ)/file_io.o $(CODE_OBJ)/types.o

%.o: ../src/%.F90
	$(FC) $(FFLAGS) $< -c $(INCLUDE)

